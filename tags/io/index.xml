<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Io on </title>
    <link>http://wyb0.com/tags/io/</link>
    <description>Recent content in Io on </description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <copyright>&amp;copy; 2016-2017 Reber. All Rights Reserved.</copyright>
    <lastBuildDate>Sun, 31 Jan 2016 12:27:06 +0800</lastBuildDate>
    <atom:link href="http://wyb0.com/tags/io/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>Python的IO操作</title>
      <link>http://wyb0.com/posts/Python%E7%9A%84IO%E6%93%8D%E4%BD%9C/</link>
      <pubDate>Sun, 31 Jan 2016 12:27:06 +0800</pubDate>
      
      <guid>http://wyb0.com/posts/Python%E7%9A%84IO%E6%93%8D%E4%BD%9C/</guid>
      <description>

&lt;h2 id=&#34;文件的操作:5fd3ebab6592445d9b8afbdee5b18cd2&#34;&gt;文件的操作&lt;/h2&gt;

&lt;h4 id=&#34;文件读写:5fd3ebab6592445d9b8afbdee5b18cd2&#34;&gt;文件读写&lt;/h4&gt;

&lt;blockquote&gt;
&lt;p&gt;r读取；rb可以读取二进制文件(如图片、视频)；w可覆盖写入；a+可追加写入&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;#!/usr/bin/env python
# -*- coding: utf-8 -*-

try:
    f = open(&amp;quot;test.txt&amp;quot;,&amp;quot;r&amp;quot;)
    data = f.read()
    print &amp;quot;File name: &amp;quot;,f.name
    print &amp;quot;File open moudle: &amp;quot;,f.mode
    print &amp;quot;File is close ?&amp;quot;,f.closed
    print &amp;quot;File content: &amp;quot;,data
finally:
    f.close()

with open(&amp;quot;test.txt&amp;quot;,&amp;quot;a+&amp;quot;) as f: #自动调用close()
    data = &amp;quot;\nYes,I know.&amp;quot;
    f.write(data)
    print u&amp;quot;写入内容：%s&amp;quot; % data

with open(&amp;quot;test.txt&amp;quot;,&amp;quot;r&amp;quot;) as f:
    #readlines()一次读取一行，返回一个列表，也可以用read(size)读取指定大小
    line = f.readlines()
    print line
&lt;/code&gt;&lt;/pre&gt;


&lt;div class=&#34;pure-u-1&#34;&gt;
  &lt;img class=&#34;pure-img&#34; src=&#34;http://wyb0.com/img/post/python_file_read_write.png&#34; alt=&#34;python文件读写.png&#34;&gt;
&lt;/div&gt;

&lt;/blockquote&gt;

&lt;h4 id=&#34;指针移动:5fd3ebab6592445d9b8afbdee5b18cd2&#34;&gt;指针移动&lt;/h4&gt;

&lt;blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;#!/usr/bin/env python
# -*- coding: utf-8 -*-

try:
    f = open(&amp;quot;test.txt&amp;quot;,&amp;quot;r&amp;quot;)
    data = f.read(6) #读取6个字节，所以指针位置为6
    print u&amp;quot;指针当前位置：&amp;quot;,f.tell()
    f.seek(4,0) #0表示从开头位置，向后移动4
    print u&amp;quot;指针当前位置：&amp;quot;,f.tell()
    f.seek(-3,1) #1表示从当前位置，向前移动3
    print u&amp;quot;指针当前位置：&amp;quot;,f.tell()
    f.seek(-10,2) #2表示从末尾位置，向前移动10
    print u&amp;quot;指针当前位置：&amp;quot;,f.tell()
finally:
    f.close()
&lt;/code&gt;&lt;/pre&gt;


&lt;div class=&#34;pure-u-1&#34;&gt;
  &lt;img class=&#34;pure-img&#34; src=&#34;http://wyb0.com/img/post/python_file_read_point.png&#34; alt=&#34;python操作指针读文件.png&#34;&gt;
&lt;/div&gt;

&lt;/blockquote&gt;

&lt;h4 id=&#34;文件操作:5fd3ebab6592445d9b8afbdee5b18cd2&#34;&gt;文件操作&lt;/h4&gt;

&lt;blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;#!/usr/bin/env python
# -*- coding: utf-8 -*-

import os
import time

if not os.path.exists(&amp;quot;test.txt&amp;quot;):
    f = open(&amp;quot;test.txt&amp;quot;,&amp;quot;w&amp;quot;) #新建文件
    f.close()
    print u&amp;quot;新建文件test.txt&amp;quot;
else:
    os.rename(&amp;quot;test.txt&amp;quot;,&amp;quot;temp.txt&amp;quot;) #重命名
    print u&amp;quot;文件test.txt重命名为temp.txt&amp;quot;

if os.path.exists(&amp;quot;temp.txt&amp;quot;):
    time.sleep(2)
    os.remove(&amp;quot;temp.txt&amp;quot;) #删除文件
    print u&amp;quot;删除文件temp.txt&amp;quot;
&lt;/code&gt;&lt;/pre&gt;


&lt;div class=&#34;pure-u-1&#34;&gt;
  &lt;img class=&#34;pure-img&#34; src=&#34;http://wyb0.com/img/post/python_file_operation.png&#34; alt=&#34;python文件操作.png&#34;&gt;
&lt;/div&gt;

&lt;/blockquote&gt;

&lt;h2 id=&#34;目录的操作:5fd3ebab6592445d9b8afbdee5b18cd2&#34;&gt;目录的操作&lt;/h2&gt;

&lt;h4 id=&#34;目录操作:5fd3ebab6592445d9b8afbdee5b18cd2&#34;&gt;目录操作&lt;/h4&gt;

&lt;blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;#!/usr/bin/env python
# -*- coding: utf-8 -*-

import os
import time

if not os.path.exists(&amp;quot;test&amp;quot;):
    os.mkdir(&amp;quot;test&amp;quot;) #创建目录
    print u&amp;quot;创建目录test&amp;quot;
if not os.path.exists(&amp;quot;aa/bb/cc&amp;quot;):
    os.makedirs(&amp;quot;aa/bb/cc&amp;quot;) #创建多级目录
    print u&amp;quot;创建多级目录aa/bb/cc&amp;quot;
else:
    print u&amp;quot;多级目录已经存在&amp;quot;
if os.path.exists(&amp;quot;test&amp;quot;):
    time.sleep(2)
    os.rmdir(&amp;quot;test&amp;quot;) #删除空的目录，目录内不能有东西
    print u&amp;quot;删除空目录test&amp;quot;

print u&amp;quot;当前工作路径：&amp;quot;,os.getcwd() #得到当前工作路径
os.chdir(&amp;quot;d:\Clone&amp;quot;) #切换工作路径
print u&amp;quot;切换工作路径到d:\Clone&amp;quot;
print u&amp;quot;当前工作路径：&amp;quot;,os.getcwd()
&lt;/code&gt;&lt;/pre&gt;


&lt;div class=&#34;pure-u-1&#34;&gt;
  &lt;img class=&#34;pure-img&#34; src=&#34;http://wyb0.com/img/post/python_create_and_del_dir.png&#34; alt=&#34;python创建和删除文件夹.png&#34;&gt;
&lt;/div&gt;

&lt;/blockquote&gt;

&lt;h4 id=&#34;删除非空文件夹:5fd3ebab6592445d9b8afbdee5b18cd2&#34;&gt;删除非空文件夹&lt;/h4&gt;

&lt;blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;#!/usr/bin/env python
# -*- coding: utf-8 -*-

import os

def deldir(dirname):
    if os.path.exists(dirname):
        dlist = os.listdir(dirname)
        if dlist:
            # print dlist
            for x in dlist:
                subFile = os.path.join(dirname,x)
                # print subFile
                if os.path.isfile(subFile):
                    print &amp;quot;remove file %s&amp;quot; % subFile
                    os.remove(subFile)
                if os.path.isdir(subFile):
                    deldir(subFile)
        print &amp;quot;remove dir %s&amp;quot; % dirname
        os.rmdir(dirname)
    else:
        print &amp;quot;the dir is not exists&amp;quot;

dirname = raw_input(&amp;quot;Please input you want to delete the folder name: &amp;quot;)
deldir(dirname)
&lt;/code&gt;&lt;/pre&gt;


&lt;div class=&#34;pure-u-1&#34;&gt;
  &lt;img class=&#34;pure-img&#34; src=&#34;http://wyb0.com/img/post/python_del_not_null_dir.png&#34; alt=&#34;python删除非空文件夹.png&#34;&gt;
&lt;/div&gt;

&lt;/blockquote&gt;

&lt;h4 id=&#34;常用方法:5fd3ebab6592445d9b8afbdee5b18cd2&#34;&gt;常用方法&lt;/h4&gt;

&lt;blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;#!/usr/bin/env python
# -*- coding: utf-8 -*-

import os

print os.name #输出字符串指示正在使用的平台
print os.linesep #给出当前平台使用的行终止符,windows为&amp;quot;\r\n&amp;quot;
os.system(&amp;quot;whoami&amp;quot;) #执行系统命令
print os.getcwd() #函数得到当前工作目录
print os.path.abspath(&#39;D:\Clone&#39;) #获得绝对路径
print os.listdir(&#39;C:\\Users\\WYB_9\\Desktop\\a&#39;) #返回目录下所有文件和目录名
print &amp;quot;#########################&amp;quot;
print os.path.isfile(&#39;python.py&#39;)
print os.path.isdir(&#39;D:\Clone&#39;) #检验给出的路径是一个文件还是目录。
print os.path.exists(&#39;D:\Clone&#39;) #检验给出的路径(文件和文件夹均可)是否真的存在
print os.path.normpath(&#39;c:/windows\\system32\\&#39;) #规范path字符串格式
print &amp;quot;#########################&amp;quot;
print os.path.getsize(&#39;python.py&#39;) #获得文件大小，如果name是目录返回0L
print os.path.join(&#39;C:\windows&#39;, &#39;1.txt&#39;) #连接目录与文件名或目录
print os.path.split(&#39;C:\windows\c.txt&#39;) #返回一个路径的目录名和文件名
print os.path.dirname(&#39;C:\windows\c.txt&#39;) #返回目录名
print os.path.basename(&#39;C:\windows\c.txt&#39;) #返回文件名
print os.path.splitext(&#39;1.txt&#39;) #分离文件名与拓展名
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;
&lt;div class=&#34;pure-u-1&#34;&gt;
  &lt;img class=&#34;pure-img&#34; src=&#34;http://wyb0.com/img/post/python_file_common_fun.png&#34; alt=&#34;python文件操作常用方法.png&#34;&gt;
&lt;/div&gt;
&lt;/p&gt;
&lt;/blockquote&gt;
</description>
    </item>
    
  </channel>
</rss>