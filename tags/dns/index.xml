<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Dns on </title>
    <link>http://wyb0.com/tags/dns/</link>
    <description>Recent content in Dns on </description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <copyright>&amp;copy; 2016-2017 Reber. All Rights Reserved.</copyright>
    <lastBuildDate>Tue, 14 Jul 2015 14:15:13 +0800</lastBuildDate>
    <atom:link href="http://wyb0.com/tags/dns/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>搭建DNS服务器</title>
      <link>http://wyb0.com/posts/%E6%90%AD%E5%BB%BADNS%E6%9C%8D%E5%8A%A1%E5%99%A8/</link>
      <pubDate>Tue, 14 Jul 2015 14:15:13 +0800</pubDate>
      
      <guid>http://wyb0.com/posts/%E6%90%AD%E5%BB%BADNS%E6%9C%8D%E5%8A%A1%E5%99%A8/</guid>
      <description>

&lt;h2 id=&#34;环境:211d59e4d4202f6d017761f8ce42837b&#34;&gt;环境&lt;/h2&gt;

&lt;blockquote&gt;
&lt;p&gt;虚拟机rhel-server-6.2&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&#34;搭建流程:211d59e4d4202f6d017761f8ce42837b&#34;&gt;搭建流程&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;安装DNS服务器&lt;/li&gt;
&lt;li&gt;配置DNS主配置文件&lt;/li&gt;
&lt;li&gt;配置DNS正反向解析区域数据文件&lt;/li&gt;
&lt;li&gt;启动DNS服务器进行测试&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;安装dns服务:211d59e4d4202f6d017761f8ce42837b&#34;&gt;安装DNS服务&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;挂载光盘&lt;br /&gt;
用mount -o,loop /dev/cdrom /mnt/cdrom命令挂载光盘&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;配置yum源，安装BIND(用命令yum install bind*安装)

&lt;div class=&#34;pure-u-1&#34;&gt;
  &lt;img class=&#34;pure-img&#34; src=&#34;http://wyb0.com/img/post/dns_yum_configuration_source.png&#34; alt=&#34;搭建dns配置yum源.png&#34;&gt;
&lt;/div&gt;

安装结果如下：

&lt;div class=&#34;pure-u-1&#34;&gt;
  &lt;img class=&#34;pure-img&#34; src=&#34;http://wyb0.com/img/post/dns_install.png&#34; alt=&#34;安装bind.png&#34;&gt;
&lt;/div&gt;
&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;进行配置&lt;br /&gt;
vim /etc/named.conf,添加必要的信息

&lt;div class=&#34;pure-u-1&#34;&gt;
  &lt;img class=&#34;pure-img&#34; src=&#34;http://wyb0.com/img/post/dns_vim_named_conf.png&#34; alt=&#34;配置dns服务,添加必要的信息.png&#34;&gt;
&lt;/div&gt;

在named.conf的包含文件named.rfc1921.zones中定义区域

&lt;div class=&#34;pure-u-1&#34;&gt;
  &lt;img class=&#34;pure-img&#34; src=&#34;http://wyb0.com/img/post/dns_define_regions.png&#34; alt=&#34;配置dns服务,定义区域.png&#34;&gt;
&lt;/div&gt;
&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;配置正反向解析文件&lt;br /&gt;
分别配置wyb.cn.hosts和wyb.cn.rev

&lt;div class=&#34;pure-u-1&#34;&gt;
  &lt;img class=&#34;pure-img&#34; src=&#34;http://wyb0.com/img/post/dns_analytical_paper_example.png&#34; alt=&#34;解析文件样例.png&#34;&gt;
&lt;/div&gt;


&lt;div class=&#34;pure-u-1&#34;&gt;
  &lt;img class=&#34;pure-img&#34; src=&#34;http://wyb0.com/img/post/dns_forward_mapping_file.png&#34; alt=&#34;正向解析文件.png&#34;&gt;
&lt;/div&gt;


&lt;div class=&#34;pure-u-1&#34;&gt;
  &lt;img class=&#34;pure-img&#34; src=&#34;http://wyb0.com/img/post/dns_reverse_mapping_file.png&#34; alt=&#34;反向解析文件.png&#34;&gt;
&lt;/div&gt;
&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;验证:211d59e4d4202f6d017761f8ce42837b&#34;&gt;验证&lt;/h2&gt;

&lt;blockquote&gt;
&lt;p&gt;用service named start命令启动DNS&lt;br /&gt;
用nslookup命令进行验证，先查看当前采用那台DNS解析，测试反向资源记录以及正反向解析

&lt;div class=&#34;pure-u-1&#34;&gt;
  &lt;img class=&#34;pure-img&#34; src=&#34;http://wyb0.com/img/post/dns_test.png&#34; alt=&#34;测试DNS.png&#34;&gt;
&lt;/div&gt;
&lt;/p&gt;
&lt;/blockquote&gt;
</description>
    </item>
    
  </channel>
</rss>