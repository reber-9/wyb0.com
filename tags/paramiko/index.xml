<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Paramiko on </title>
    <link>http://wyb0.com/tags/paramiko/</link>
    <description>Recent content in Paramiko on </description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <copyright>&amp;copy; 2016-2017 Reber. All Rights Reserved.</copyright>
    <lastBuildDate>Thu, 14 Jul 2016 15:24:11 +0800</lastBuildDate>
    <atom:link href="http://wyb0.com/tags/paramiko/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>Python的paramiko模块</title>
      <link>http://wyb0.com/posts/Python%E7%9A%84paramiko%E6%A8%A1%E5%9D%97/</link>
      <pubDate>Thu, 14 Jul 2016 15:24:11 +0800</pubDate>
      
      <guid>http://wyb0.com/posts/Python%E7%9A%84paramiko%E6%A8%A1%E5%9D%97/</guid>
      <description>

&lt;h2 id=&#34;安装:0c20c958622cd09ed656159383261c41&#34;&gt;安装&lt;/h2&gt;

&lt;p&gt;直接pip install paramiko安装&lt;br /&gt;
或者去&lt;a href=&#34;http://www.paramiko.org/&#34;&gt;http://www.paramiko.org/&lt;/a&gt; 下载&lt;/p&gt;

&lt;h2 id=&#34;执行一条远程命令:0c20c958622cd09ed656159383261c41&#34;&gt;执行一条远程命令&lt;/h2&gt;

&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;#!/usr/bin/env python
#-*- coding:utf-8 -*-

import paramiko

#远程执行命令
ssh = paramiko.SSHClient()
ssh.set_missing_host_key_policy(paramiko.AutoAddPolicy())
ssh.connect(&amp;quot;192.168.188.134&amp;quot;,22,&amp;quot;reber&amp;quot;,&amp;quot;123456&amp;quot;)
ssh_session = ssh.get_transport().open_session()

stdin,stdout,stderr = ssh.exec_command(&amp;quot;ls -l&amp;quot;)
print stdin
print stdout.readlines()   #返回执行结果
print stderr.readlines()   #有错误信息就返回错误信息，没有就返回空

ssh.close()
&lt;/code&gt;&lt;/pre&gt;


&lt;div class=&#34;pure-u-1&#34;&gt;
  &lt;img class=&#34;pure-img&#34; src=&#34;http://wyb0.com/img/post/paramiko_ssh_one_command.png&#34; alt=&#34;paramiko远程ssh后执行一条命令.png&#34;&gt;
&lt;/div&gt;


&lt;h2 id=&#34;上传与下载文件:0c20c958622cd09ed656159383261c41&#34;&gt;上传与下载文件&lt;/h2&gt;

&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;#!/usr/bin/env python
#-*- coding:utf-8 -*-

import paramiko
ftp = paramiko.Transport((&amp;quot;192.168.188.134&amp;quot;,22))
ftp.connect(username=&amp;quot;reber&amp;quot;,password=&amp;quot;123456&amp;quot;)
sftp = paramiko.SFTPClient.from_transport(ftp)

#将本地的文件上传到服务端的/tmp/a.txt
remotepath=&#39;/tmp/a.txt&#39;
localpath=&#39;C:\\Users\\WYB_9\\Desktop\\a.txt&#39;
sftp.put(localpath, remotepath)

#将服务端的文件下载到C:\\Users\\WYB_9\\Desktop\\system.log
remotepath=&#39;/tmp/a.txt&#39;
localpath=&#39;C:\\Users\\WYB_9\\Desktop\\system.log&#39;
sftp.get(remotepath, localpath)

ftp.close()
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;
&lt;div class=&#34;pure-u-1&#34;&gt;
  &lt;img class=&#34;pure-img&#34; src=&#34;http://wyb0.com/img/post/paramiko_put_file.png&#34; alt=&#34;paramiko上传文件.png&#34;&gt;
&lt;/div&gt;
&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>