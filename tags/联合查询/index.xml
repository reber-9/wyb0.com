<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>联合查询 on </title>
    <link>http://wyb0.com/tags/%E8%81%94%E5%90%88%E6%9F%A5%E8%AF%A2/</link>
    <description>Recent content in 联合查询 on </description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <copyright>&amp;copy; 2016-2017 Reber. All Rights Reserved.</copyright>
    <lastBuildDate>Tue, 21 Jun 2016 22:30:18 +0800</lastBuildDate>
    <atom:link href="http://wyb0.com/tags/%E8%81%94%E5%90%88%E6%9F%A5%E8%AF%A2/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>SQL注入之联合查询</title>
      <link>http://wyb0.com/posts/SQL%E6%B3%A8%E5%85%A5%E4%B9%8B%E8%81%94%E5%90%88%E6%9F%A5%E8%AF%A2/</link>
      <pubDate>Tue, 21 Jun 2016 22:30:18 +0800</pubDate>
      
      <guid>http://wyb0.com/posts/SQL%E6%B3%A8%E5%85%A5%E4%B9%8B%E8%81%94%E5%90%88%E6%9F%A5%E8%AF%A2/</guid>
      <description>

&lt;h3 id=&#34;0x00-前提:2676668c0906bb816e5851723ff573bb&#34;&gt;0x00 前提&lt;/h3&gt;

&lt;blockquote&gt;
&lt;pre&gt;&lt;code&gt;要用联合查询进行注入则：页面必须有显示位
&lt;/code&gt;&lt;/pre&gt;
&lt;/blockquote&gt;

&lt;h3 id=&#34;0x01-联合查询:2676668c0906bb816e5851723ff573bb&#34;&gt;0x01 联合查询&lt;/h3&gt;

&lt;blockquote&gt;
&lt;pre&gt;&lt;code&gt;union可合并两个或多个select语句的结果集，
前提是两个select必有相同列、且各列的数据类型也相同
&lt;/code&gt;&lt;/pre&gt;
&lt;/blockquote&gt;

&lt;h3 id=&#34;0x02-注入步骤:2676668c0906bb816e5851723ff573bb&#34;&gt;0x02 注入步骤&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;找注入点且得到闭合字符&lt;/li&gt;
&lt;li&gt;判断数据库类型&lt;/li&gt;
&lt;li&gt;猜解列数，得到显示位&lt;/li&gt;
&lt;li&gt;得到基本信息(如：数据库名、数据库版本、当前数据库名等)&lt;/li&gt;
&lt;li&gt;得到数据库名&lt;/li&gt;
&lt;li&gt;得到表名&lt;/li&gt;
&lt;li&gt;得到列名&lt;/li&gt;
&lt;li&gt;得到列值&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&#34;1-找到注入点得到闭合字符:2676668c0906bb816e5851723ff573bb&#34;&gt;1. 找到注入点得到闭合字符&lt;/h4&gt;

&lt;blockquote&gt;
&lt;p&gt;
&lt;div class=&#34;pure-u-1&#34;&gt;
  &lt;img class=&#34;pure-img&#34; src=&#34;http://wyb0.com/img/post/sqli1_get_closed_character.png&#34; alt=&#34;找到注入点得到闭合字符&#34;&gt;
&lt;/div&gt;

&lt;br /&gt;&lt;br /&gt;

&lt;div class=&#34;pure-u-1&#34;&gt;
  &lt;img class=&#34;pure-img&#34; src=&#34;http://wyb0.com/img/post/sqli1_check_closed_character.png&#34; alt=&#34;确认闭合字符&#34;&gt;
&lt;/div&gt;
&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h4 id=&#34;2-判断数据库类型:2676668c0906bb816e5851723ff573bb&#34;&gt;2. 判断数据库类型&lt;/h4&gt;

&lt;blockquote&gt;

&lt;div class=&#34;pure-u-1&#34;&gt;
  &lt;img class=&#34;pure-img&#34; src=&#34;http://wyb0.com/img/post/sqli1_get_type_of_db.png&#34; alt=&#34;判断数据库类型&#34;&gt;
&lt;/div&gt;

&lt;/blockquote&gt;

&lt;h4 id=&#34;3-猜解列数-得到显示位:2676668c0906bb816e5851723ff573bb&#34;&gt;3. 猜解列数，得到显示位&lt;/h4&gt;

&lt;blockquote&gt;
&lt;p&gt;
&lt;div class=&#34;pure-u-1&#34;&gt;
  &lt;img class=&#34;pure-img&#34; src=&#34;http://wyb0.com/img/post/sqli1_order_by.png&#34; alt=&#34;猜解列数&#34;&gt;
&lt;/div&gt;

&lt;br /&gt;&lt;br /&gt;

&lt;div class=&#34;pure-u-1&#34;&gt;
  &lt;img class=&#34;pure-img&#34; src=&#34;http://wyb0.com/img/post/sqli1_get_display_point.png&#34; alt=&#34;得到显示位&#34;&gt;
&lt;/div&gt;
&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h4 id=&#34;4-得到基本信息-数据库名-版本-数据库版本等:2676668c0906bb816e5851723ff573bb&#34;&gt;4. 得到基本信息(数据库名、版本、数据库版本等)&lt;/h4&gt;

&lt;blockquote&gt;

&lt;div class=&#34;pure-u-1&#34;&gt;
  &lt;img class=&#34;pure-img&#34; src=&#34;http://wyb0.com/img/post/sqli1_get_base_msg.png&#34; alt=&#34;得到基础信息&#34;&gt;
&lt;/div&gt;

&lt;/blockquote&gt;

&lt;h4 id=&#34;5-得到数据库:2676668c0906bb816e5851723ff573bb&#34;&gt;5. 得到数据库&lt;/h4&gt;

&lt;blockquote&gt;
&lt;p&gt;
&lt;div class=&#34;pure-u-1&#34;&gt;
  &lt;img class=&#34;pure-img&#34; src=&#34;http://wyb0.com/img/post/sqli1_get_db_num.png&#34; alt=&#34;得到数据库个数&#34;&gt;
&lt;/div&gt;

&lt;br /&gt;&lt;br /&gt;

&lt;div class=&#34;pure-u-1&#34;&gt;
  &lt;img class=&#34;pure-img&#34; src=&#34;http://wyb0.com/img/post/sqli1_get_db_name.png&#34; alt=&#34;得到数据库名&#34;&gt;
&lt;/div&gt;
&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h4 id=&#34;6-得到security数据库的表名:2676668c0906bb816e5851723ff573bb&#34;&gt;6. 得到security数据库的表名&lt;/h4&gt;

&lt;blockquote&gt;
&lt;p&gt;
&lt;div class=&#34;pure-u-1&#34;&gt;
  &lt;img class=&#34;pure-img&#34; src=&#34;http://wyb0.com/img/post/sqli1_get_table_name.png&#34; alt=&#34;得到security数据库的表名&#34;&gt;
&lt;/div&gt;
&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h4 id=&#34;7-猜解列名:2676668c0906bb816e5851723ff573bb&#34;&gt;7. 猜解列名&lt;/h4&gt;

&lt;blockquote&gt;
&lt;p&gt;
&lt;div class=&#34;pure-u-1&#34;&gt;
  &lt;img class=&#34;pure-img&#34; src=&#34;http://wyb0.com/img/post/sqli1_get_column_name.png&#34; alt=&#34;得到表列名&#34;&gt;
&lt;/div&gt;
&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h4 id=&#34;8-猜解数据:2676668c0906bb816e5851723ff573bb&#34;&gt;8. 猜解数据&lt;/h4&gt;

&lt;blockquote&gt;
&lt;p&gt;
&lt;div class=&#34;pure-u-1&#34;&gt;
  &lt;img class=&#34;pure-img&#34; src=&#34;http://wyb0.com/img/post/sqli1_get_column_value.png&#34; alt=&#34;同时得到用户名和密码&#34;&gt;
&lt;/div&gt;
&lt;/p&gt;
&lt;/blockquote&gt;
</description>
    </item>
    
  </channel>
</rss>